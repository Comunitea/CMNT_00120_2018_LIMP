<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="account_invoice" language="groovy" pageWidth="595" pageHeight="846" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0">
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="27"/>
    <style name="table">
        <pen lineWidth="0.0" lineStyle="Solid" lineColor="#001D77"/>
        <box>
            <pen lineWidth="0.25" lineColor="#001D77"/>
            <topPen lineWidth="0.25" lineColor="#001D77"/>
            <leftPen lineWidth="0.25" lineColor="#001D77"/>
            <bottomPen lineWidth="0.25" lineColor="#001D77"/>
            <rightPen lineWidth="0.25" lineColor="#001D77"/>
        </box>
    </style>
    <style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
        <pen lineWidth="0.25" lineColor="#001D77"/>
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.0"/>
            <leftPen lineWidth="0.25" lineColor="#001D77"/>
            <bottomPen lineWidth="0.0"/>
            <rightPen lineWidth="0.25" lineColor="#001D77"/>
        </box>
    </style>
    <style name="table 1">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table 1_CH" mode="Opaque" backcolor="#001D77">
        <pen lineWidth="0.0" lineColor="#001D77"/>
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.25" lineColor="#001D77"/>
            <leftPen lineWidth="0.25" lineColor="#001D77"/>
            <bottomPen lineWidth="0.25" lineColor="#001D77"/>
            <rightPen lineWidth="0.25" lineColor="#001D77"/>
        </box>
    </style>
    <style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.0" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#001D77"/>
            <leftPen lineWidth="0.5" lineColor="#001D77"/>
            <bottomPen lineWidth="0.5" lineColor="#001D77"/>
            <rightPen lineWidth="0.5" lineColor="#001D77"/>
        </box>
    </style>
    <subDataset name="dataset1">
        <parameter name="INVOICE_ID" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$F{id}]]></defaultValueExpression>
        </parameter>
        <parameter name="REWIND" class="java.lang.Object" isForPrompting="false">
            <parameterDescription><![CDATA[]]></parameterDescription>
            <defaultValueExpression><![CDATA[$P{REPORT_DATA_SOURCE}.moveFirst()]]></defaultValueExpression>
        </parameter>
        <queryString language="xPath">
            <![CDATA[]]>
        </queryString>
        <field name="Referencia-default_code" class="java.lang.String">
            <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Producto-product_id/Referencia-default_code]]></fieldDescription>
        </field>
        <field name="Descripcion-name" class="java.lang.String">
            <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Descripcion-name]]></fieldDescription>
        </field>
        <field name="Subtotal-price_subtotal" class="java.lang.Float">
            <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Subtotal-price_subtotal]]></fieldDescription>
        </field>
        <field name="id" class="java.lang.Integer">
            <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Referencia_factura-invoice_id/id]]></fieldDescription>
        </field>
        <filterExpression><![CDATA[$P{INVOICE_ID} == $F{id}]]></filterExpression>
    </subDataset>
    <subDataset name="Dataset 2">
        <parameter name="REWIND" class="java.lang.Object" isForPrompting="false">
            <parameterDescription><![CDATA[]]></parameterDescription>
            <defaultValueExpression><![CDATA[$P{REPORT_DATA_SOURCE}.moveFirst()]]></defaultValueExpression>
        </parameter>
        <parameter name="INVOICE_ID" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$F{id}]]></defaultValueExpression>
        </parameter>
        <queryString language="xPath">
            <![CDATA[]]>
        </queryString>
        <field name="Importe-amount" class="java.lang.Float">
            <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Importe-amount]]></fieldDescription>
        </field>
        <field name="Base-base" class="java.lang.Float">
            <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Base-base]]></fieldDescription>
        </field>
        <field name="Descripcion_impuesto-name" class="java.lang.String">
            <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Descripcion_impuesto-name]]></fieldDescription>
        </field>
        <field name="id" class="java.lang.Integer">
            <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Linea_de_factura-invoice_id/id]]></fieldDescription>
        </field>
        <filterExpression><![CDATA[$P{INVOICE_ID} == $F{id}]]></filterExpression>
    </subDataset>
    <parameter name="SUBREPORT_1" class="java.lang.Object"/>
    <parameter name="SUBREPORT_2" class="java.lang.Object"/>
    <parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
        <defaultValueExpression><![CDATA["/opt/openerp/hg/limpergal/limp_reports/report/"]]></defaultValueExpression>
    </parameter>
    <queryString language="xPath">
        <![CDATA[]]>
    </queryString>
    <field name="Referencia-ref" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Empresa-partner_id/Referencia-ref]]></fieldDescription>
    </field>
    <field name="Fecha_factura-date_invoice" class="java.util.Date">
        <fieldDescription><![CDATA[/data/record/Fecha_factura-date_invoice]]></fieldDescription>
    </field>
    <field name="id" class="java.lang.Integer">
        <fieldDescription><![CDATA[/data/record/id]]></fieldDescription>
    </field>
    <field name="Numero-number" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Numero-number]]></fieldDescription>
    </field>
    <field name="Calle-street" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Calle-street]]></fieldDescription>
    </field>
    <field name="C.P.-zip" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/C.P.-zip]]></fieldDescription>
    </field>
    <field name="Nombre_del_pais-name" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Pais-country_id/Nombre_del_pais-name]]></fieldDescription>
    </field>
    <field name="Nombre_provincia-name" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Provincia-state_id/Nombre_provincia-name]]></fieldDescription>
    </field>
    <field name="Nombre-name" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Nombre_de_empresa-parent_id/Nombre-name]]></fieldDescription>
    </field>
    <field name="Plazo_de_pago-name" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Plazo_de_pago-payment_term_id/Plazo_de_pago-name]]></fieldDescription>
    </field>
    <field name="Nombre-name2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Tipo_de_pago-payment_mode_id/Nombre-name]]></fieldDescription>
    </field>
    <field name="Total-amount_total" class="java.lang.Float">
        <fieldDescription><![CDATA[/data/record/Total-amount_total]]></fieldDescription>
    </field>
    <field name="Informacion_adicional-comment" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Informacion_adicional-comment]]></fieldDescription>
    </field>
    <field name="Nombre-name3" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Nombre_de_empresa-parent_id/Nombre-name]]></fieldDescription>
    </field>
    <field name="C.P.-zip2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/C.P.-zip]]></fieldDescription>
    </field>
    <field name="Calle-street2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Calle-street]]></fieldDescription>
    </field>
    <field name="Nombre_del_pais-name2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Pais-country_id/Nombre_del_pais-name]]></fieldDescription>
    </field>
    <field name="Ciudad-city2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Ciudad-city]]></fieldDescription>
    </field>
    <field name="Nombre_provincia-name2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Provincia-state_id/Nombre_provincia-name]]></fieldDescription>
    </field>
    <field name="Ciudad-city" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Ciudad-city]]></fieldDescription>
    </field>
    <field name="Tax_amount-amount_taxes" class="java.lang.Float">
        <fieldDescription><![CDATA[/data/record/Tax_amount-amount_taxes]]></fieldDescription>
    </field>
    <field name="Nombre-name4" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Nombre-name]]></fieldDescription>
    </field>
    <field name="Calle2-street2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Calle2-street2]]></fieldDescription>
    </field>
    <field name="Calle2-street22" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_id/Calle2-street2]]></fieldDescription>
    </field>
    <field name="Numero_de_cuenta-acc_number" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Cuenta_bancaria-partner_bank_id/Numero_de_cuenta-acc_number]]></fieldDescription>
    </field>
    <field name="CIF_NIF-vat" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Empresa-partner_id/CIF_NIF-vat]]></fieldDescription>
    </field>
    <field name="A_A-attention_of" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/A_A-attention_of]]></fieldDescription>
    </field>
    <field name="No_calidad-no_quality" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/No_calidad-no_quality]]></fieldDescription>
    </field>
    <field name="Estado-state" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Estado-state]]></fieldDescription>
    </field>
    <field name="IBAN-iban" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Cuenta_bancaria-partner_bank_id/IBAN-iban]]></fieldDescription>
    </field>
    <field name="Nombre_del_contacto-name" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_id/Nombre_del_contacto-name]]></fieldDescription>
    </field>
    <field name="Tipo_de_direccion-type" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Tipo_de_direccion-type]]></fieldDescription>
    </field>
    <field name="Invoice_header-invoice_header" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Invoice_header-invoice_header]]></fieldDescription>
    </field>
    <field name="Expiration_dates-expiration_dates_str" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Expiration_dates-expiration_dates_str]]></fieldDescription>
    </field>
    <field name="A_A-attention_of2" class="java.lang.String">
        <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/A_A-attention_of]]></fieldDescription>
    </field>
    <group name="invoice_group" isStartNewPage="true" isReprintHeaderOnEachPage="true" footerPosition="ForceAtBottom">
        <groupExpression><![CDATA[$F{id}]]></groupExpression>
        <groupHeader>
            <band height="125">
                <staticText>
                    <reportElement mode="Opaque" x="90" y="3" width="100" height="12" forecolor="#FFFFFF" backcolor="#001D77"/>
                    <box>
                        <topPen lineWidth="0.5" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[FECHA FACTURA]]></text>
                </staticText>
                <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
                    <reportElement x="90" y="15" width="100" height="19"/>
                    <box>
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="9"/>
                    </textElement>
                    <textFieldExpression class="java.util.Date"><![CDATA[$F{Fecha_factura-date_invoice}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement mode="Opaque" x="0" y="3" width="90" height="12" forecolor="#FFFFFF" backcolor="#001D77"/>
                    <box>
                        <topPen lineWidth="0.5" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[Nº CLIENTE]]></text>
                </staticText>
                <textField>
                    <reportElement x="0" y="15" width="90" height="19"/>
                    <box>
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
                        <font size="9"/>
                    </textElement>
                    <textFieldExpression class="java.lang.String"><![CDATA[$F{Referencia-ref}]]></textFieldExpression>
                </textField>
                <textField>
                    <reportElement x="190" y="15" width="97" height="19"/>
                    <box>
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="9"/>
                    </textElement>
                    <textFieldExpression class="java.lang.String"><![CDATA[$F{Estado-state}.contains("proforma") ? "PROFORMA" : $F{Numero-number}]]></textFieldExpression>
                </textField>
                <line>
                    <reportElement mode="Opaque" x="300" y="3" width="255" height="1" forecolor="#009933"/>
                    <graphicElement>
                        <pen lineWidth="0.25"/>
                    </graphicElement>
                </line>
                <line>
                    <reportElement positionType="Float" mode="Opaque" x="299" y="121" width="255" height="1" forecolor="#009933"/>
                    <graphicElement>
                        <pen lineWidth="0.25"/>
                    </graphicElement>
                </line>
                <staticText>
                    <reportElement mode="Opaque" x="190" y="3" width="97" height="12" forecolor="#FFFFFF" backcolor="#001D77"/>
                    <box>
                        <topPen lineWidth="0.5" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[Nº FACTURA]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="0" y="71" width="287" height="12" forecolor="#FFFFFF" backcolor="#001D77"/>
                    <box>
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[FORMA DE PAGO]]></text>
                </staticText>
                <textField isStretchWithOverflow="true">
                    <reportElement positionType="Float" x="0" y="83" width="287" height="38"/>
                    <box leftPadding="2">
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Left" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name2} + "\n" + $F{Plazo_de_pago-name} + "\n" + $F{IBAN-iban} + ($F{Expiration_dates-expiration_dates_str}.isEmpty() ? "" : "\nVencimiento: \n" + $F{Expiration_dates-expiration_dates_str})]]></textFieldExpression>
                </textField>
                <frame>
                    <reportElement x="299" y="6" width="255" height="113"/>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="2" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="38" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle-street}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="62" width="39" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement textAlignment="Left">
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{C.P.-zip}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="74" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_provincia-name}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="86" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_pais-name}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="46" y="62" width="202" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Ciudad-city}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                        <reportElement positionType="Float" x="7" y="50" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle2-street22}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="98" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{CIF_NIF-vat}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                        <reportElement positionType="Float" x="7" y="14" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_contacto-name}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="26" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{A_A-attention_of2}]]></textFieldExpression>
                    </textField>
                </frame>
            </band>
        </groupHeader>
        <groupFooter>
            <band height="191">
                <componentElement>
                    <reportElement key="table 1" style="table" x="9" y="7" width="333" height="42">
                        <property name="ODOO_RELATIONS" value="tax_line_ids"/>
                    </reportElement>
                    <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                        <datasetRun subDataset="Dataset 2">
                            <datasetParameter name="INVOICE_ID">
                                <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
                            </datasetParameter>
                            <dataSourceExpression><![CDATA[$P{SUBREPORT_2}]]></dataSourceExpression>
                        </datasetRun>
                        <jr:column width="132">
                            <jr:columnHeader style="table 1_CH" height="15" rowSpan="1">
                                <box>
                                    <pen lineWidth="0.0"/>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.0"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.0"/>
                                </box>
                                <staticText>
                                    <reportElement x="0" y="0" width="132" height="13" forecolor="#FFFFFF"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <text><![CDATA[BASE IMPONIBLE]]></text>
                                </staticText>
                            </jr:columnHeader>
                            <jr:detailCell style="table_TD" height="15" rowSpan="1">
                                <box>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.25"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.25"/>
                                </box>
                                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                    <reportElement x="0" y="0" width="132" height="14"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <textFieldExpression class="java.lang.Float"><![CDATA[$F{Base-base}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="81">
                            <jr:columnHeader style="table 1_CH" height="15" rowSpan="1">
                                <box>
                                    <pen lineWidth="0.0"/>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.0"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.0"/>
                                </box>
                                <staticText>
                                    <reportElement x="0" y="0" width="81" height="14" forecolor="#FFFFFF"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <text><![CDATA[%]]></text>
                                </staticText>
                            </jr:columnHeader>
                            <jr:detailCell style="table_TD" height="15" rowSpan="1">
                                <box>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.25"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.25"/>
                                </box>
                                <textField>
                                    <reportElement x="0" y="0" width="81" height="14"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <textFieldExpression class="java.lang.String"><![CDATA[$F{Descripcion_impuesto-name}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="114">
                            <jr:columnHeader style="table 1_CH" height="15" rowSpan="1">
                                <box>
                                    <pen lineWidth="0.0"/>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.0"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.0"/>
                                </box>
                                <staticText>
                                    <reportElement x="0" y="0" width="114" height="14" forecolor="#FFFFFF"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <text><![CDATA[CUOTA I.V.A.]]></text>
                                </staticText>
                            </jr:columnHeader>
                            <jr:detailCell style="table_TD" height="15" rowSpan="1">
                                <box>
                                    <topPen lineWidth="0.0"/>
                                    <leftPen lineWidth="0.25"/>
                                    <bottomPen lineWidth="0.0"/>
                                    <rightPen lineWidth="0.25"/>
                                </box>
                                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                    <reportElement x="0" y="0" width="114" height="14"/>
                                    <textElement textAlignment="Center" verticalAlignment="Middle">
                                        <font size="8"/>
                                    </textElement>
                                    <textFieldExpression class="java.lang.Float"><![CDATA[$F{Importe-amount}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                    </jr:table>
                </componentElement>
                <staticText>
                    <reportElement mode="Opaque" x="456" y="7" width="99" height="12" forecolor="#FFFFFF" backcolor="#34B233"/>
                    <box>
                        <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[IMPORTE TOTAL]]></text>
                </staticText>
                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                    <reportElement x="456" y="19" width="99" height="16"/>
                    <box>
                        <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <textFieldExpression class="java.lang.Float"><![CDATA[$F{Total-amount_total}]]></textFieldExpression>
                </textField>
                <textField>
                    <reportElement x="0" y="65" width="287" height="121"/>
                    <box topPadding="2" leftPadding="2">
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement verticalAlignment="Top">
                        <font size="8"/>
                    </textElement>
                    <textFieldExpression class="java.lang.String"><![CDATA[$F{Informacion_adicional-comment}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement mode="Opaque" x="0" y="53" width="287" height="12" forecolor="#FFFFFF" backcolor="#001D77"/>
                    <box>
                        <topPen lineWidth="0.25" lineColor="#001D77"/>
                        <leftPen lineWidth="0.25" lineColor="#001D77"/>
                        <bottomPen lineWidth="0.25" lineColor="#001D77"/>
                        <rightPen lineWidth="0.25" lineColor="#001D77"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[OBSERVACIONES]]></text>
                </staticText>
                <line>
                    <reportElement x="299" y="53" width="256" height="1" forecolor="#3333FF"/>
                    <graphicElement>
                        <pen lineWidth="0.25"/>
                    </graphicElement>
                </line>
                <line>
                    <reportElement positionType="Float" x="300" y="186" width="254" height="1" forecolor="#3333FF"/>
                    <graphicElement>
                        <pen lineWidth="0.25"/>
                    </graphicElement>
                </line>
                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                    <reportElement x="353" y="19" width="89" height="16"/>
                    <box>
                        <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <textFieldExpression class="java.lang.Float"><![CDATA[$F{Tax_amount-amount_taxes}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement mode="Opaque" x="353" y="7" width="89" height="12" forecolor="#FFFFFF" backcolor="#34B233"/>
                    <box>
                        <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                        <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#34B233"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="8"/>
                    </textElement>
                    <text><![CDATA[TAXAS]]></text>
                </staticText>
                <frame>
                    <reportElement x="302" y="57" width="252" height="128"/>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                        <reportElement positionType="Float" x="7" y="72" width="241" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle2-street2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="112" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_pais-name2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="99" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_provincia-name2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="46" y="85" width="202" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Ciudad-city2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="85" width="39" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{C.P.-zip2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="59" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle-street2}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true">
                        <reportElement positionType="Float" x="7" y="32" width="241" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[($F{Tipo_de_direccion-type} == "delivery" && $F{Nombre-name4} != "") ? $F{Nombre-name4} : $F{Nombre-name3}]]></textFieldExpression>
                    </textField>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="false">
                        <reportElement positionType="Float" x="39" y="18" width="209" height="14"/>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{A_A-attention_of}]]></textFieldExpression>
                    </textField>
                    <staticText>
                        <reportElement positionType="Float" x="7" y="18" width="32" height="14">
                            <printWhenExpression><![CDATA[!$F{A_A-attention_of}.isEmpty()]]></printWhenExpression>
                        </reportElement>
                        <textElement/>
                        <text><![CDATA[A/A:]]></text>
                    </staticText>
                    <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                        <reportElement positionType="Float" x="7" y="46" width="242" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF">
                            <printWhenExpression><![CDATA[$F{Tipo_de_direccion-type} != "delivery"]]></printWhenExpression>
                        </reportElement>
                        <textElement>
                            <font size="9"/>
                        </textElement>
                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name4}]]></textFieldExpression>
                    </textField>
                    <staticText>
                        <reportElement x="57" y="2" width="135" height="16" forecolor="#001D77" backcolor="#FFFFFF"/>
                        <textElement textAlignment="Center" verticalAlignment="Middle">
                            <font size="8" isBold="true"/>
                        </textElement>
                        <text><![CDATA[DIRECCIÓN DE ENVIO]]></text>
                    </staticText>
                </frame>
            </band>
        </groupFooter>
    </group>
    <pageHeader>
        <band height="140" splitType="Stretch">
            <staticText>
                <reportElement x="0" y="89" width="309" height="12" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement>
                    <font size="8"/>
                </textElement>
                <text><![CDATA[Parque Empresarial As Gándaras - Calle A - Parcela O4.3 - 27003 LUGO]]></text>
            </staticText>
            <image hAlign="Center" vAlign="Middle">
                <reportElement x="0" y="12" width="236" height="57">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <imageExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "../images/limpergal_integral.png"]]></imageExpression>
            </image>
            <staticText>
                <reportElement x="0" y="101" width="309" height="12" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement>
                    <font size="8"/>
                </textElement>
                <text><![CDATA[Teléfono 982 20 19 60 · Fax 982 20 19 92]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="124" width="221" height="12" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement>
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[ A CORUÑA · LUGO · OURENSE · VIGO]]></text>
            </staticText>
            <image>
                <reportElement x="482" y="22" width="69" height="45">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <imageExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "../images/servital_logo.png"]]></imageExpression>
            </image>
            <staticText>
                <reportElement x="387" y="23" width="79" height="28"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="18" isBold="true"/>
                </textElement>
                <text><![CDATA[COPIA]]></text>
            </staticText>
            <textField isStretchWithOverflow="true">
                <reportElement positionType="Float" x="253" y="4" width="302" height="15"/>
                <textElement textAlignment="Right">
                    <font size="9"/>
                </textElement>
                <textFieldExpression class="java.lang.String"><![CDATA[$F{Invoice_header-invoice_header}]]></textFieldExpression>
            </textField>
        </band>
    </pageHeader>
    <detail>
        <band height="139">
            <componentElement>
                <reportElement key="table" style="table" x="0" y="4" width="555" height="133">
                    <property name="ODOO_RELATIONS" value="invoice_line_ids"/>
                </reportElement>
                <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                    <datasetRun subDataset="dataset1">
                        <datasetParameter name="INVOICE_ID">
                            <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
                        </datasetParameter>
                        <dataSourceExpression><![CDATA[$P{SUBREPORT_1}]]></dataSourceExpression>
                    </datasetRun>
                    <jr:column width="437">
                        <jr:columnHeader style="table 1_CH" height="22" rowSpan="1">
                            <box>
                                <topPen lineWidth="0.0"/>
                                <leftPen lineWidth="0.0" lineColor="#FFFFFF"/>
                                <bottomPen lineWidth="0.0"/>
                                <rightPen lineWidth="0.0"/>
                            </box>
                            <staticText>
                                <reportElement x="0" y="0" width="437" height="13" forecolor="#FFFFFF"/>
                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                    <font size="8"/>
                                </textElement>
                                <text><![CDATA[CONCEPTO]]></text>
                            </staticText>
                        </jr:columnHeader>
                        <jr:detailCell style="table 1_TD" height="15" rowSpan="1">
                            <box>
                                <topPen lineWidth="0.0"/>
                                <leftPen lineWidth="0.25"/>
                                <bottomPen lineWidth="0.0"/>
                                <rightPen lineWidth="0.25"/>
                            </box>
                            <textField isStretchWithOverflow="true">
                                <reportElement positionType="Float" x="0" y="0" width="437" height="13"/>
                                <box leftPadding="2"/>
                                <textElement textAlignment="Justified" verticalAlignment="Middle">
                                    <font size="9"/>
                                </textElement>
                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Descripcion-name}]]></textFieldExpression>
                            </textField>
                        </jr:detailCell>
                    </jr:column>
                    <jr:column width="115">
                        <jr:columnHeader style="table 1_CH" height="22" rowSpan="1">
                            <box>
                                <topPen lineWidth="0.0"/>
                                <leftPen lineWidth="0.0"/>
                                <bottomPen lineWidth="0.0"/>
                                <rightPen lineWidth="0.0"/>
                            </box>
                            <staticText>
                                <reportElement x="0" y="0" width="115" height="13" forecolor="#FFFFFF"/>
                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                    <font size="7"/>
                                </textElement>
                                <text><![CDATA[IMPORTE]]></text>
                            </staticText>
                        </jr:columnHeader>
                        <jr:detailCell style="table 1_TD" height="15" rowSpan="1">
                            <box>
                                <topPen lineWidth="0.0"/>
                                <leftPen lineWidth="0.25"/>
                                <bottomPen lineWidth="0.0"/>
                                <rightPen lineWidth="0.25"/>
                            </box>
                            <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                <reportElement x="0" y="0" width="115" height="13"/>
                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                    <font size="9"/>
                                </textElement>
                                <textFieldExpression class="java.lang.Float"><![CDATA[$F{Subtotal-price_subtotal}]]></textFieldExpression>
                            </textField>
                        </jr:detailCell>
                    </jr:column>
                </jr:table>
            </componentElement>
        </band>
    </detail>
    <pageFooter>
        <band height="54">
            <staticText>
                <reportElement x="0" y="0" width="555" height="8" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement textAlignment="Center" markup="none">
                    <font size="6" isBold="false"/>
                </textElement>
                <text><![CDATA[Limpergal, s.l. Parque empresarial As Gándaras - Calle A - Parcela O4.3 - 27003 LUGO  - CIF B-27141159]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="15" width="555" height="34" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement textAlignment="Left">
                    <font size="6"/>
                </textElement>
                <text><![CDATA[A los efectos previstos en la Ley Orgánica 15/1999 de 13 de diciembre sobre Protección de Datos de Carácter Personal se le informa que los datos personales proporcionados se incorporarán al fichero de clientes de LIMPERGAL, S.L. (con NIF y domicilio citado), registrados en la AGPD. La finalidad del tratamiento de los datos será la ejecución de los servicios contratados, no siendo cedidos a terceros. Ud. tiene el derecho de acceso, rectificación, cancelación y oposición en los términos previstos en la Ley, que se podrá ejecutar mediante escrito dirigido al responsable de los mismos en la dirección anteriormente indicada.]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="7" width="555" height="8" forecolor="#001D77">
                    <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                </reportElement>
                <textElement textAlignment="Center" markup="none">
                    <font size="6" isBold="false"/>
                </textElement>
                <text><![CDATA[ Inscrita en el Registro Mercantil de Lugo, Tomo 295, Sección de Sociedades, Folio 117, Hoja LU-479]]></text>
            </staticText>
        </band>
    </pageFooter>
</jasperReport>
