<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="account_invoice" language="groovy" pageWidth="598" pageHeight="846" columnWidth="558" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0">
        <property name="ireport.zoom" value="1.0"/>
        <property name="ireport.x" value="0"/>
        <property name="ireport.y" value="0"/>
        <style name="table">
                <pen lineWidth="0.0" lineStyle="Solid" lineColor="#062B7B"/>
                <box>
                        <pen lineWidth="0.25" lineColor="#062B7B"/>
                        <topPen lineWidth="0.25" lineColor="#062B7B"/>
                        <leftPen lineWidth="0.25" lineColor="#062B7B"/>
                        <bottomPen lineWidth="0.25" lineColor="#062B7B"/>
                        <rightPen lineWidth="0.25" lineColor="#062B7B"/>
                </box>
        </style>
        <style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
                <box>
                        <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
        </style>
        <style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
                <pen lineWidth="0.25" lineColor="#062B7B"/>
                <box>
                        <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
        </style>
        <style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
                <box>
                        <pen lineWidth="0.5" lineColor="#000000"/>
                        <topPen lineWidth="0.0"/>
                        <leftPen lineWidth="0.25" lineColor="#062B7B"/>
                        <bottomPen lineWidth="0.0"/>
                        <rightPen lineWidth="0.25" lineColor="#062B7B"/>
                </box>
        </style>
        <style name="table 1">
                <pen lineWidth="0.0" lineColor="#062B7B"/>
                <box>
                        <pen lineWidth="0.25" lineColor="#000000"/>
                        <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                        <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#FFBC3D"/>
                        <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                        <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                </box>
        </style>
        <style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
                <box>
                        <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
        </style>
        <style name="table 1_CH" mode="Opaque" backcolor="#FFBC3D">
                <pen lineWidth="0.0" lineColor="#062B7B"/>
                <box>
                        <pen lineWidth="0.5" lineColor="#000000"/>
                        <topPen lineWidth="0.0" lineColor="#062B7B"/>
                        <leftPen lineWidth="0.0" lineColor="#062B7B"/>
                        <bottomPen lineWidth="0.0" lineColor="#062B7B"/>
                        <rightPen lineWidth="0.0" lineColor="#062B7B"/>
                </box>
        </style>
        <style name="table 1_TD" mode="Opaque" forecolor="#000000" backcolor="#FFFFFF">
                <box>
                        <pen lineWidth="0.0" lineColor="#000000"/>
                        <topPen lineWidth="0.0" lineColor="#062B7B"/>
                        <leftPen lineWidth="0.0" lineColor="#062B7B"/>
                        <bottomPen lineWidth="0.0" lineColor="#062B7B"/>
                        <rightPen lineWidth="0.0" lineColor="#062B7B"/>
                </box>
        </style>
        <subDataset name="dataset1">
                <parameter name="INVOICE_ID" class="java.lang.Integer">
                        <defaultValueExpression><![CDATA[$F{id}]]></defaultValueExpression>
                </parameter>
                <parameter name="REWIND" class="java.lang.Object" isForPrompting="false">
                        <parameterDescription><![CDATA[]]></parameterDescription>
                        <defaultValueExpression><![CDATA[$P{REPORT_DATA_SOURCE}.moveFirst()]]></defaultValueExpression>
                </parameter>
                <queryString language="xPath">
                        <![CDATA[]]>
                </queryString>
                <field name="Referencia-default_code" class="java.lang.String">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Producto-product_id/Referencia-default_code]]></fieldDescription>
                </field>
                <field name="Descripcion-name" class="java.lang.String">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Descripcion-name]]></fieldDescription>
                </field>
                <field name="Subtotal-price_subtotal" class="java.lang.Float">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Subtotal-price_subtotal]]></fieldDescription>
                </field>
                <field name="id" class="java.lang.Integer">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_factura-invoice_line_ids/Referencia_factura-invoice_id/id]]></fieldDescription>
                </field>
                <filterExpression><![CDATA[$P{INVOICE_ID} == $F{id}]]></filterExpression>
        </subDataset>
        <subDataset name="Dataset 2">
                <parameter name="REWIND" class="java.lang.Object" isForPrompting="false">
                        <parameterDescription><![CDATA[]]></parameterDescription>
                        <defaultValueExpression><![CDATA[$P{REPORT_DATA_SOURCE}.moveFirst()]]></defaultValueExpression>
                </parameter>
                <parameter name="INVOICE_ID" class="java.lang.Integer">
                        <defaultValueExpression><![CDATA[$F{id}]]></defaultValueExpression>
                </parameter>
                <queryString language="xPath">
                        <![CDATA[]]>
                </queryString>
                <field name="Importe-amount" class="java.lang.Float">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Importe-amount]]></fieldDescription>
                </field>
                <field name="Base-base" class="java.lang.Float">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Base-base]]></fieldDescription>
                </field>
                <field name="Descripcion_impuesto-name" class="java.lang.String">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Descripcion_impuesto-name]]></fieldDescription>
                </field>
                <field name="id" class="java.lang.Integer">
                        <fieldDescription><![CDATA[/data/record/Lineas_de_impuestos-tax_line_ids/Linea_de_factura-invoice_id/id]]></fieldDescription>
                </field>
                <filterExpression><![CDATA[$P{INVOICE_ID} == $F{id}]]></filterExpression>
        </subDataset>
        <parameter name="SUBREPORT_1" class="java.lang.Object"/>
        <parameter name="SUBREPORT_2" class="java.lang.Object"/>
        <parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
                <defaultValueExpression><![CDATA["/opt/openerp/hg/limpergal/limp_reports/report/"]]></defaultValueExpression>
        </parameter>
        <queryString language="xPath">
                <![CDATA[]]>
        </queryString>
        <field name="Referencia-ref" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Empresa-partner_id/Referencia-ref]]></fieldDescription>
        </field>
        <field name="Fecha_factura-date_invoice" class="java.util.Date">
                <fieldDescription><![CDATA[/data/record/Fecha_factura-date_invoice]]></fieldDescription>
        </field>
        <field name="id" class="java.lang.Integer">
                <fieldDescription><![CDATA[/data/record/id]]></fieldDescription>
        </field>
        <field name="Numero-number" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Numero-number]]></fieldDescription>
        </field>
        <field name="Calle-street" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Calle-street]]></fieldDescription>
        </field>
        <field name="C.P.-zip" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/C.P.-zip]]></fieldDescription>
        </field>
        <field name="Nombre_del_pais-name" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Pais-country_id/Nombre_del_pais-name]]></fieldDescription>
        </field>
        <field name="Nombre_provincia-name" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Provincia-state_id/Nombre_provincia-name]]></fieldDescription>
        </field>
        <field name="Nombre-name" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Nombre_de_empresa-partner_id/Nombre-name]]></fieldDescription>
        </field>
        <field name="Plazo_de_pago-name" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Plazo_de_pago-payment_term_id/Plazo_de_pago-name]]></fieldDescription>
        </field>
        <field name="Nombre-name2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Tipo_de_pago-payment_mode_id/Nombre-name]]></fieldDescription>
        </field>
        <field name="Total-amount_total" class="java.lang.Float">
                <fieldDescription><![CDATA[/data/record/Total-amount_total]]></fieldDescription>
        </field>
        <field name="Informacion_adicional-comment" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Informacion_adicional-comment]]></fieldDescription>
        </field>
        <field name="Nombre-name3" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Nombre_de_empresa-partner_id/Nombre-name]]></fieldDescription>
        </field>
        <field name="C.P.-zip2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/C.P.-zip]]></fieldDescription>
        </field>
        <field name="Calle-street2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Calle-street]]></fieldDescription>
        </field>
        <field name="Nombre_del_pais-name2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Pais-country_id/Nombre_del_pais-name]]></fieldDescription>
        </field>
        <field name="Ciudad-city2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Ciudad-city]]></fieldDescription>
        </field>
        <field name="Nombre_provincia-name2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_shipping_id/Provincia-state_id/Nombre_provincia-name]]></fieldDescription>
        </field>
        <field name="Ciudad-city" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/Ciudad-city]]></fieldDescription>
        </field>
        <field name="Tax_amount-amount_taxes" class="java.lang.Float">
                <fieldDescription><![CDATA[/data/record/Tax_amount-amount_taxes]]></fieldDescription>
        </field>
        <field name="Nombre-name4" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Nombre-name]]></fieldDescription>
        </field>
        <field name="Calle2-street2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Calle2-street2]]></fieldDescription>
        </field>
        <field name="Calle2-street22" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_id/Calle2-street2]]></fieldDescription>
        </field>
        <field name="Numero_de_cuenta-acc_number" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Cuenta_bancaria-partner_bank_id/Numero_de_cuenta-acc_number]]></fieldDescription>
        </field>
        <field name="CIF_NIF-vat" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Empresa-partner_id/CIF_NIF-vat]]></fieldDescription>
        </field>
        <field name="A_A-attention_of" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/A_A-attention_of]]></fieldDescription>
        </field>
        <field name="No_calidad-no_quality" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/No_calidad-no_quality]]></fieldDescription>
        </field>
        <field name="Estado-state" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Estado-state]]></fieldDescription>
        </field>
        <field name="IBAN-iban" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Cuenta_bancaria-partner_bank_id/IBAN-iban]]></fieldDescription>
        </field>
        <field name="Nombre_del_contacto-name" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_de_factura-partner_id/Matriz-commercial_partner_id/Nombre_del_contacto-name]]></fieldDescription>
        </field>
        <field name="Tipo_de_direccion-type" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_contacto-partner_shipping_id/Tipo_de_direccion-type]]></fieldDescription>
        </field>
        <field name="Invoice_header-invoice_header" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Invoice_header-invoice_header]]></fieldDescription>
        </field>
        <field name="Expiration_dates-expiration_dates_str" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Expiration_dates-expiration_dates_str]]></fieldDescription>
        </field>
        <field name="A_A-attention_of2" class="java.lang.String">
                <fieldDescription><![CDATA[/data/record/Direccion_fiscal-partner_id/A_A-attention_of]]></fieldDescription>
        </field>
        <group name="invoice_group" isStartNewPage="true" isReprintHeaderOnEachPage="true" footerPosition="ForceAtBottom">
                <groupExpression><![CDATA[$F{id}]]></groupExpression>
                <groupHeader>
                        <band height="127">
                                <staticText>
                                        <reportElement mode="Opaque" x="90" y="3" width="100" height="12" forecolor="#FFFFFF" backcolor="#FFBC3D"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[FECHA FACTURA]]></text>
                                </staticText>
                                <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
                                        <reportElement x="90" y="15" width="100" height="19"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="9"/>
                                        </textElement>
                                        <textFieldExpression class="java.util.Date"><![CDATA[$F{Fecha_factura-date_invoice}]]></textFieldExpression>
                                </textField>
                                <staticText>
                                        <reportElement mode="Opaque" x="0" y="3" width="90" height="12" forecolor="#FFFFFF" backcolor="#FFBC3D"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[Nº CLIENTE]]></text>
                                </staticText>
                                <textField>
                                        <reportElement x="0" y="15" width="90" height="19"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
                                                <font size="9"/>
                                        </textElement>
                                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Referencia-ref}]]></textFieldExpression>
                                </textField>
                                <textField>
                                        <reportElement x="190" y="15" width="97" height="19"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="9"/>
                                        </textElement>
                                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Estado-state}.contains("proforma") ? "PROFORMA" : $F{Numero-number}]]></textFieldExpression>
                                </textField>
                                <line>
                                        <reportElement mode="Opaque" x="300" y="3" width="255" height="1" forecolor="#D70037"/>
                                        <graphicElement>
                                                <pen lineWidth="0.25"/>
                                        </graphicElement>
                                </line>
                                <line>
                                        <reportElement positionType="Float" mode="Opaque" x="299" y="122" width="255" height="1" forecolor="#D70037"/>
                                        <graphicElement>
                                                <pen lineWidth="0.25"/>
                                        </graphicElement>
                                </line>
                                <staticText>
                                        <reportElement mode="Opaque" x="190" y="3" width="97" height="12" forecolor="#FFFFFF" backcolor="#FFBC3D"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[Nº FACTURA]]></text>
                                </staticText>
                                <staticText>
                                        <reportElement mode="Opaque" x="0" y="69" width="287" height="12" forecolor="#FFFFFF" backcolor="#FFBC3D"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[FORMA DE PAGO]]></text>
                                </staticText>
                                <textField isStretchWithOverflow="true">
                                        <reportElement positionType="Float" x="0" y="81" width="287" height="41"/>
                                        <box leftPadding="2">
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Left" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name2} + "\n" + $F{Plazo_de_pago-name} + "\n" + $F{Numero_de_cuenta-acc_number} + ($F{Expiration_dates-expiration_dates_str}.isEmpty() ? "" : "\nVencimiento: \n" + $F{Expiration_dates-expiration_dates_str})]]></textFieldExpression>
                                </textField>
                                <frame>
                                        <reportElement x="302" y="6" width="255" height="113"/>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="38" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle-street}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="62" width="39" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement textAlignment="Left">
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{C.P.-zip}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="74" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_provincia-name}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="86" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_pais-name}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="46" y="62" width="202" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Ciudad-city}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                                                <reportElement positionType="Float" x="7" y="50" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle2-street22}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="98" width="241" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{CIF_NIF-vat}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                                                <reportElement positionType="Float" x="7" y="14" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_contacto-name}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="26" width="241" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{A_A-attention_of2}]]></textFieldExpression>
                                        </textField>
                                </frame>
                        </band>
                </groupHeader>
                <groupFooter>
                        <band height="190">
                                <componentElement>
                                        <reportElement key="table 1" style="table 1" x="6" y="9" width="403" height="42">
                                                <property name="ODOO_RELATIONS" value="tax_line_ids"/>
                                        </reportElement>
                                        <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                                                <datasetRun subDataset="Dataset 2">
                                                        <datasetParameter name="INVOICE_ID">
                                                                <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
                                                        </datasetParameter>
                                                        <dataSourceExpression><![CDATA[$P{SUBREPORT_2}]]></dataSourceExpression>
                                                </datasetRun>
                                                <jr:column width="158">
                                                        <jr:columnHeader style="table 1_CH" height="12" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.0"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.0"/>
                                                                </box>
                                                                <staticText>
                                                                        <reportElement x="0" y="0" width="158" height="12" forecolor="#FFFFFF"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <text><![CDATA[BASE IMPONIBLE]]></text>
                                                                </staticText>
                                                        </jr:columnHeader>
                                                        <jr:detailCell height="16" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                </box>
                                                                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                                                        <reportElement x="0" y="0" width="158" height="16"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <textFieldExpression class="java.lang.Float"><![CDATA[$F{Base-base}]]></textFieldExpression>
                                                                </textField>
                                                        </jr:detailCell>
                                                </jr:column>
                                                <jr:column width="109">
                                                        <jr:columnHeader style="table 1_CH" height="12" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.0"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.0"/>
                                                                </box>
                                                                <staticText>
                                                                        <reportElement x="0" y="0" width="109" height="12" forecolor="#FFFFFF"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <text><![CDATA[%]]></text>
                                                                </staticText>
                                                        </jr:columnHeader>
                                                        <jr:detailCell height="16" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                </box>
                                                                <textField>
                                                                        <reportElement x="0" y="0" width="109" height="16"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Descripcion_impuesto-name}]]></textFieldExpression>
                                                                </textField>
                                                        </jr:detailCell>
                                                </jr:column>
                                                <jr:column width="135">
                                                        <jr:columnHeader style="table 1_CH" height="12" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.0"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.0"/>
                                                                </box>
                                                                <staticText>
                                                                        <reportElement x="0" y="0" width="135" height="12" forecolor="#FFFFFF"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <text><![CDATA[CUOTA I.V.A.]]></text>
                                                                </staticText>
                                                        </jr:columnHeader>
                                                        <jr:detailCell height="16" rowSpan="1">
                                                                <box>
                                                                        <topPen lineWidth="0.0"/>
                                                                        <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                        <bottomPen lineWidth="0.0"/>
                                                                        <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                </box>
                                                                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                                                        <reportElement x="0" y="0" width="135" height="16"/>
                                                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                                <font size="8"/>
                                                                        </textElement>
                                                                        <textFieldExpression class="java.lang.Float"><![CDATA[$F{Importe-amount}]]></textFieldExpression>
                                                                </textField>
                                                        </jr:detailCell>
                                                </jr:column>
                                        </jr:table>
                                </componentElement>
                                <staticText>
                                        <reportElement mode="Opaque" x="456" y="9" width="99" height="12" forecolor="#FFFFFF" backcolor="#D70037"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[IMPORTE TOTAL]]></text>
                                </staticText>
                                <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                        <reportElement x="456" y="21" width="99" height="15"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                                <rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#D70037"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <textFieldExpression class="java.lang.Float"><![CDATA[$F{Total-amount_total}]]></textFieldExpression>
                                </textField>
                                <textField>
                                        <reportElement x="0" y="67" width="287" height="119"/>
                                        <box topPadding="2" leftPadding="2">
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement verticalAlignment="Top">
                                                <font size="8"/>
                                        </textElement>
                                        <textFieldExpression class="java.lang.String"><![CDATA[$F{Informacion_adicional-comment}]]></textFieldExpression>
                                </textField>
                                <staticText>
                                        <reportElement mode="Opaque" x="0" y="55" width="287" height="12" forecolor="#FFFFFF" backcolor="#FFBC3D"/>
                                        <box>
                                                <pen lineWidth="0.25"/>
                                                <topPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <bottomPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                        </box>
                                        <textElement textAlignment="Center" verticalAlignment="Middle">
                                                <font size="8"/>
                                        </textElement>
                                        <text><![CDATA[OBSERVACIONES]]></text>
                                </staticText>
                                <line>
                                        <reportElement x="299" y="55" width="256" height="1" forecolor="#FFBC3D"/>
                                        <graphicElement>
                                                <pen lineWidth="0.25"/>
                                        </graphicElement>
                                </line>
                                <line>
                                        <reportElement positionType="Float" x="300" y="187" width="254" height="1" forecolor="#FFBC3D"/>
                                        <graphicElement>
                                                <pen lineWidth="0.25"/>
                                        </graphicElement>
                                </line>
                                <frame>
                                        <reportElement x="305" y="58" width="252" height="128"/>
                                        <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                                                <reportElement positionType="Float" x="7" y="72" width="241" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle2-street2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="112" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_del_pais-name2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="99" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre_provincia-name2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="46" y="85" width="202" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Ciudad-city2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="85" width="39" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{C.P.-zip2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="59" width="241" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Calle-street2}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true">
                                                <reportElement positionType="Float" x="7" y="32" width="241" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name3}]]></textFieldExpression>
                                        </textField>
                                        <textField isStretchWithOverflow="true" isBlankWhenNull="false">
                                                <reportElement positionType="Float" x="39" y="18" width="209" height="14"/>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{A_A-attention_of}]]></textFieldExpression>
                                        </textField>
                                        <staticText>
                                                <reportElement x="7" y="18" width="32" height="14">
                                                        <printWhenExpression><![CDATA[!$F{A_A-attention_of}.isEmpty()]]></printWhenExpression>
                                                </reportElement>
                                                <textElement/>
                                                <text><![CDATA[A/A:]]></text>
                                        </staticText>
                                        <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                                                <reportElement positionType="Float" x="7" y="46" width="241" height="13" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF">
                                                        <printWhenExpression><![CDATA[$F{Nombre-name4} != "" && $F{Nombre-name4} != $F{Nombre-name3}]]></printWhenExpression>
                                                </reportElement>
                                                <textElement>
                                                        <font size="9"/>
                                                </textElement>
                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Nombre-name4}]]></textFieldExpression>
                                        </textField>
                                        <staticText>
                                                <reportElement x="57" y="2" width="135" height="16" forecolor="#001D77" backcolor="#FFFFFF"/>
                                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                                        <font size="8" isBold="true"/>
                                                </textElement>
                                                <text><![CDATA[DIRECCIÓN DE ENVIO]]></text>
                                        </staticText>
                                </frame>
                        </band>
                </groupFooter>
        </group>
        <pageHeader>
                <band height="143" splitType="Stretch">
                        <image>
                                <reportElement x="0" y="5" width="201" height="109">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <imageExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "../images/servital_logo.png"]]></imageExpression>
                        </image>
                        <staticText>
                                <reportElement x="405" y="114" width="153" height="12" forecolor="#062B7B">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement textAlignment="Center">
                                        <font isBold="true"/>
                                </textElement>
                                <text><![CDATA[www.servitalservicios.com]]></text>
                        </staticText>
                        <staticText>
                                <reportElement x="405" y="128" width="168" height="12" forecolor="#062B7B" backcolor="#FFFFFF">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement>
                                        <font size="7"/>
                                </textElement>
                                <text><![CDATA[E-mail: administracion@servitalservicios.com]]></text>
                        </staticText>
                        <textField isStretchWithOverflow="true">
                                <reportElement positionType="Float" x="212" y="5" width="219" height="20"/>
                                <textElement textAlignment="Right">
                                        <font size="9"/>
                                </textElement>
                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Invoice_header-invoice_header}]]></textFieldExpression>
                        </textField>
                        <staticText>
                                <reportElement x="1" y="116" width="302" height="12" forecolor="#001D77">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement>
                                        <font size="8"/>
                                </textElement>
                                <text><![CDATA[Parque Empresarial As Gándaras - Calle A - Parcela O4.3 - 27003 LUGO]]></text>
                        </staticText>
                        <staticText>
                                <reportElement x="1" y="128" width="302" height="12" forecolor="#001D77">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement>
                                        <font size="8"/>
                                </textElement>
                                <text><![CDATA[Teléfono 982 28 30 42]]></text>
                        </staticText>
                </band>
        </pageHeader>
        <detail>
                <band height="137">
                        <componentElement>
                                <reportElement key="table" style="table 1" positionType="Float" x="1" y="2" width="555" height="133">
                                        <property name="ODOO_RELATIONS" value="invoice_line_ids"/>
                                </reportElement>
                                <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                                        <datasetRun subDataset="dataset1">
                                                <datasetParameter name="INVOICE_ID">
                                                        <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
                                                </datasetParameter>
                                                <dataSourceExpression><![CDATA[$P{SUBREPORT_1}]]></dataSourceExpression>
                                        </datasetRun>
                                        <jr:column width="433">
                                                <jr:columnHeader style="table 1_CH" height="26" rowSpan="1">
                                                        <box>
                                                                <pen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <topPen lineWidth="0.0" lineStyle="Solid"/>
                                                                <leftPen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <bottomPen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <rightPen lineWidth="0.0" lineStyle="Dashed"/>
                                                        </box>
                                                        <staticText>
                                                                <reportElement x="0" y="1" width="433" height="12" forecolor="#FFFFFF"/>
                                                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                        <font size="8"/>
                                                                </textElement>
                                                                <text><![CDATA[CONCEPTO]]></text>
                                                        </staticText>
                                                </jr:columnHeader>
                                                <jr:detailCell height="17" rowSpan="1">
                                                        <box>
                                                                <topPen lineWidth="0.0"/>
                                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                <bottomPen lineWidth="0.0"/>
                                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                        </box>
                                                        <textField isStretchWithOverflow="true">
                                                                <reportElement positionType="Float" x="0" y="0" width="433" height="13"/>
                                                                <box topPadding="2" leftPadding="2"/>
                                                                <textElement textAlignment="Justified" verticalAlignment="Middle">
                                                                        <font size="9"/>
                                                                </textElement>
                                                                <textFieldExpression class="java.lang.String"><![CDATA[$F{Descripcion-name}]]></textFieldExpression>
                                                        </textField>
                                                </jr:detailCell>
                                        </jr:column>
                                        <jr:column width="121">
                                                <jr:columnHeader style="table 1_CH" height="26" rowSpan="1">
                                                        <box>
                                                                <pen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <topPen lineWidth="0.0" lineStyle="Solid"/>
                                                                <leftPen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <bottomPen lineWidth="0.0" lineStyle="Dashed"/>
                                                                <rightPen lineWidth="0.0" lineStyle="Dashed"/>
                                                        </box>
                                                        <staticText>
                                                                <reportElement x="0" y="1" width="121" height="12" forecolor="#FFFFFF"/>
                                                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                        <font size="8"/>
                                                                </textElement>
                                                                <text><![CDATA[IMPORTE]]></text>
                                                        </staticText>
                                                </jr:columnHeader>
                                                <jr:detailCell height="17" rowSpan="1">
                                                        <box>
                                                                <topPen lineWidth="0.0"/>
                                                                <leftPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                                <bottomPen lineWidth="0.0"/>
                                                                <rightPen lineWidth="0.25" lineColor="#FFBC3D"/>
                                                        </box>
                                                        <textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
                                                                <reportElement x="0" y="0" width="121" height="13"/>
                                                                <box topPadding="2" leftPadding="0"/>
                                                                <textElement textAlignment="Center" verticalAlignment="Middle">
                                                                        <font size="9"/>
                                                                </textElement>
                                                                <textFieldExpression class="java.lang.Float"><![CDATA[$F{Subtotal-price_subtotal}]]></textFieldExpression>
                                                        </textField>
                                                </jr:detailCell>
                                        </jr:column>
                                </jr:table>
                        </componentElement>
                </band>
        </detail>
        <pageFooter>
                <band height="41">
                        <staticText>
                                <reportElement x="0" y="0" width="555" height="10" forecolor="#062B7B">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement textAlignment="Center">
                                        <font size="6" isBold="true"/>
                                </textElement>
                                <text><![CDATA[Servital Servicios Sociosanitarios, S.L. - Inscrita en el Registro Mercantil de Lugo, Tomo 336 del archivo, Folio 142, Hoja LU-11456, Inscripción 1ª - CIF B-27348614]]></text>
                        </staticText>
                        <staticText>
                                <reportElement x="0" y="11" width="555" height="30" forecolor="#062B7B">
                                        <printWhenExpression><![CDATA[!$F{No_calidad-no_quality}]]></printWhenExpression>
                                </reportElement>
                                <textElement>
                                        <font size="6" isBold="false"/>
                                </textElement>
                                <text><![CDATA[A los efectos previstos en la Ley Orgánica 15/1999 de 13 de diciembre sobre Protección de Datos de Carácter Personal se le informa que los datos personales proporcionados se incorporarán al fichero de clientes de SERVITAL SERVICIOS SOCIOSANITARIOS, S.L. (con NIF y domicilio citado), registrados en la AGPD. La finalidad del tratamiento de los datos será la ejecución de los servicios contratados, no siendo cedidos a terceros. Ud. tiene el derecho de acceso, rectificación, cancelación y oposición en los términos previstos en la Ley, que se podrá ejecutar mediante escrito dirigido al responsable de los mismos en la dirección anteriormente indicada.]]></text>
                        </staticText>
                </band>
        </pageFooter>
</jasperReport>
