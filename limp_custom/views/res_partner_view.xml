<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_partner_form_add_new_fields_limp_add_logo" model="ir.ui.view">
        <field name="name">res.partner.form.add_new_fields_limp_add_logo</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="limp_service_picking.view_partner_form_add_new_fields_limp" />
        <field name="arch" type="xml">
            <field name="nima_no" position="after">
                <newline />
                <field name="picture" widget="image" />
            </field>
            <xpath expr="//page[@name='internal_notes']//field[@name='comment']" position="before">
                <group>
                    <field name="add_info" />
                </group>
            </xpath>
            <field name="vat" position="before">
                <field name="attention_of" />
            </field>
            <field name="ref" position="replace"/>
            <field name="website" position="before">
                <field name="ref" placeholder="Ref."/>
            </field>
            <xpath expr="//sheet/notebook/page/field[@name='child_ids']/form/sheet//field[@name='title']" position="after">
                <field name="attention_of" />
            </xpath>
        </field>
    </record>
    <record id="view_res_partner_filter_add_company_id" model="ir.ui.view">
        <field name="name">res.partner.select.add_company_id</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter" />
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="company_id" />
            </field>
            <search>
                <field name="vat" />
            </search>
            <filter name="supplier" position="after">
                <filter string="With Code" name="with_code" domain="[('ref','!=',False)]" />
            </filter>
        </field>
    </record>
    <record id="view_partner_form_add_cif_label" model="ir.ui.view">
        <field name="name">res.partner.property.form.inherit.add_active</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="account.view_partner_property_form" />
        <field name="arch" type="xml">
            <field name="name" position="before">
                <group attrs="{'invisible': [('vat', '!=', False)]}">
                    <span style="color:red; font-size: 20px">FALTA CIF</span>
                </group>
            </field>
        </field>
    </record>

    <record id="view_partner_form" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="l10n_es_facturae.view_partner_form"/>
        <field name="arch" type="xml">
            <page name="facturae" position="replace">
                <page string='FACe' name="facturae" attrs="{'invisible': [('facturae', '=', False)]}">
                    <group colspan="4" col="4">
                        <field name="invoice_integration_method_ids" widget="many2many_checkboxes"/>
                        <group colspan="2" col="2">
                            <field name="organo_gestor" attrs="{'required': [('facturae', '=', True)]}"/>
                            <field name="unidad_tramitadora" attrs="{'required': [('facturae', '=', True)]}" />
                            <field name="oficina_contable" attrs="{'required': [('facturae', '=', True)]}"/>
                            <field name="organo_proponente"/>
                        </group>
                        <group colspan="2" col="2">
                            <field name="organo_gestor_desc"/>
                            <field name="unidad_tramitadora_desc"/>
                            <field name="oficina_contable_desc"/>
                            <field name="organo_proponente_desc"/>
                        </group>
                    </group>
                  </page>
            </page>
        </field>
    </record>

    <record id="view_partner_form_avoid_facturae" model="ir.ui.view">
        <field name="name">res.partner.form.avoid.facturae</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="l10n_es_facturae.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='facturae']" position="replace">
            </xpath>
            <field name="lang" position="after">
                <field name="facturae"/>
            </field>
            <xpath expr="//sheet/notebook/page/field[@name='child_ids']/form/sheet/group" position="after">
                <group>
                    <label for="facturae"/>
                    <field name="facturae"/>
                    <group  attrs="{'invisible': [('facturae', '=', False)]}" colspan="4" col="4">
                        <field name="invoice_integration_method_ids" widget="many2many_checkboxes"/>
                        <group colspan="2" col="2">
                            <field name="organo_gestor" attrs="{'required': [('facturae', '=', True)]}"/>
                            <field name="unidad_tramitadora" attrs="{'required': [('facturae', '=', True)]}"/>
                            <field name="oficina_contable" attrs="{'required': [('facturae', '=', True)]}"/>
                            <field name="organo_proponente"/>
                        </group>
                        <group colspan="2" col="2">
                            <field name="organo_gestor_desc"/>
                            <field name="unidad_tramitadora_desc"/>
                            <field name="oficina_contable_desc"/>
                            <field name="organo_proponente_desc"/>
                        </group>
                    </group>
                </group>
            </xpath>
        </field>
    </record>


</odoo>
